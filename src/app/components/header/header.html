<header
  class="main-header"
  [class.sticky]="headerSettings.isSticky"
  [class.scrolled]="isScrolled">

  <div class="header-container">

    <!-- Logo/Brand -->
    <div class="header-brand">
      <h1 class="brand-title">{{ currentLanguage === 'de' ? 'Portfolio' : 'Portfolio' }}</h1>
      <span class="brand-subtitle">{{ currentLanguage === 'de' ? 'Medieninformatiker' : 'Media Computer Scientist' }}</span>
    </div>

    <!-- Navigation -->
    <nav class="header-nav">
      <ul class="nav-list">
        @for (item of navigationItems; track item.id) {
          <li class="nav-item">
            <a
              [href]="item.target"
              class="nav-link"
              [class.active]="activeSection === item.id"
              (click)="navigateToSection(item.target, $event)">
              @if (item.icon) {
                <span class="nav-icon">{{ item.icon }}</span>
              }
              <span class="nav-label">{{ item.label }}</span>
            </a>
          </li>
        }

        <!-- GitHub Link -->
        <li class="nav-item">
          <a
            href="https://github.com/username"
            target="_blank"
            class="nav-link external-link"
            title="GitHub Profile">
            <span class="nav-icon">🔗</span>
            <span class="nav-label">GitHub</span>
          </a>
        </li>
      </ul>
    </nav>

    <!-- Controls -->
    <div class="header-controls">

      <!-- Language Switch -->
      <div class="control-group">
        <button
          class="control-button language-switch"
          (click)="toggleLanguage()"
          [title]="currentLanguage === 'de' ? 'Switch to English' : 'Auf Deutsch wechseln'">
          <span class="control-icon">🌍</span>
          <span class="control-label">{{ currentLanguage.toUpperCase() }}</span>
        </button>
      </div>

      <!-- Theme Switch -->
      <div class="control-group">
        <button
          class="control-button theme-switch"
          (click)="toggleTheme()"
          [title]="headerSettings.isDarkMode ? 'Switch to Light Mode' : 'Switch to Dark Mode'">
          <span class="control-icon">{{ headerSettings.isDarkMode ? '☀️' : '🌙' }}</span>
          <span class="control-label">{{ headerSettings.isDarkMode ? 'Light' : 'Dark' }}</span>
        </button>
      </div>

      <!-- Sticky Toggle -->
      <div class="control-group">
        <button
          class="control-button sticky-toggle"
          (click)="toggleSticky()"
          [class.active]="headerSettings.isSticky"
          [title]="headerSettings.isSticky ? 'Header lösen' : 'Header anheften'">
          <span class="control-icon">{{ headerSettings.isSticky ? '📌' : '📍' }}</span>
          <span class="control-label">{{ headerSettings.isSticky ? 'Fixed' : 'Scroll' }}</span>
        </button>
      </div>

    </div>

    <!-- Mobile Menu Toggle -->
    <button
      class="mobile-menu-toggle"
      (click)="toggleMobileMenu()"
      [class.active]="isMobileMenuOpen">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>

  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" [class.open]="isMobileMenuOpen">
    <nav class="mobile-nav">
      <ul class="mobile-nav-list">
        @for (item of navigationItems; track item.id) {
          <li class="mobile-nav-item">
            <a
              [href]="item.target"
              class="mobile-nav-link"
              [class.active]="activeSection === item.id"
              (click)="navigateToSection(item.target, $event); closeMobileMenu()">
              @if (item.icon) {
                <span class="nav-icon">{{ item.icon }}</span>
              }
              {{ item.label }}
            </a>
          </li>
        }

        <li class="mobile-nav-item">
          <a
            href="https://github.com/username"
            target="_blank"
            class="mobile-nav-link external-link">
            <span class="nav-icon">🔗</span>
            GitHub
          </a>
        </li>
      </ul>

      <!-- Mobile Controls -->
      <div class="mobile-controls">
        <button class="mobile-control-button" (click)="toggleLanguage()">
          🌍 {{ currentLanguage === 'de' ? 'English' : 'Deutsch' }}
        </button>
        <button class="mobile-control-button" (click)="toggleTheme()">
          {{ headerSettings.isDarkMode ? '☀️ Light Mode' : '🌙 Dark Mode' }}
        </button>
        <button class="mobile-control-button" (click)="toggleSticky()">
          {{ headerSettings.isSticky ? '📍 Scroll Header' : '📌 Fix Header' }}
        </button>
      </div>
    </nav>
  </div>

</header>
